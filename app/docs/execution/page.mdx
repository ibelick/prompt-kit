import ComponentCodePreview from "@/components/app/component-code-preview"
import { generateMetadata } from "../utils/metadata"
import { ExecutionWithSource } from "./execution-with-source"
import { ExecutionBasic } from "./execution-basic"
import { ExecutionIconSwap } from "./execution-icon-swap"

export const metadata = generateMetadata(
  "Execution",
  "Composable execution blocks with collapsible sections and items."
)

# Execution

Composable execution blocks to display steps with collapsible sections and items. Useful for showing agent workflows, tool calls, or reasoning traces.

## Examples

### Execution with Icon Swap and Custom Bar

<ComponentCodePreview
  component={<ExecutionBasic />}
  filePath="app/docs/execution/execution-basic.tsx"
  classNameComponentContainer="p-8 justify-start items-start min-h-[300px]"
/>

### Execution with sources

You can use the [Source](/docs/source) component to display sources in the execution block.

<ComponentCodePreview
  component={<ExecutionWithSource />}
  filePath="app/docs/execution/execution-with-source.tsx"
  classNameComponentContainer="p-8 justify-start items-start min-h-[300px]"
/>

### Execution with custom icons swap and bar

<ComponentCodePreview
  component={<ExecutionIconSwap />}
  filePath="app/docs/execution/execution-icon-swap.tsx"
  classNameComponentContainer="p-8 justify-start items-start min-h-[300px]"
/>

## Installation

<Tabs defaultValue="cli">

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>

<TabsContent value="cli">

<CodeBlock
  code={`npx shadcn add "https://prompt-kit.com/c/execution.json"`}
  language="bash"
/>

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<CodeBlock filePath="components/prompt-kit/execution.tsx" language="tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

<TabsContent value="examples">

<CodeBlock filePath="app/docs/execution/execution-icon-swap.tsx" language="tsx" />

</TabsContent>

</Tabs>

### Execution

| Prop        | Type                                | Default | Description                           |
| :---------- | :---------------------------------- | :------ | :------------------------------------ |
| defaultOpen | boolean                             | true    | Whether the execution starts expanded |
| className   | string                              |         | Additional CSS classes                |
| ...props    | `React.ComponentProps<Collapsible>` |         | Root collapsible component props      |

### ExecutionTrigger

| Prop            | Type            | Default | Description                                               |
| :-------------- | :-------------- | :------ | :-------------------------------------------------------- |
| children        | React.ReactNode |         | Trigger content (label)                                  |
| leftIcon        | React.ReactNode |         | Optional left icon area; keeps width to avoid layout jump |
| swapIconOnHover | boolean         | true    | Swap leftIcon with chevron on hover                      |
| className       | string          |         | Additional CSS classes                                   |

### ExecutionContent

| Prop      | Type                                       | Default | Description               |
| :-------- | :----------------------------------------- | :------ | :------------------------ |
| className | string                                     |         | Additional CSS classes    |
| ...props  | `React.ComponentProps<CollapsibleContent>` |         | Collapsible content props |

### ExecutionBar

| Prop      | Type                                  | Default                          | Description                         |
| :-------- | :------------------------------------ | :------------------------------- | :---------------------------------- |
| className | string                                | `absolute left-4 inset-y-0 w-[2px] bg-muted` | Classes for positioning and style   |
| ...props  | `React.HTMLAttributes<HTMLDivElement>` |                                 | Pass-through div attributes/styles  |

### ExecutionItem

| Prop      | Type            | Default | Description            |
| :-------- | :-------------- | :------ | :--------------------- |
| children  | React.ReactNode |         | Row item content       |
| className | string          |         | Additional CSS classes |
